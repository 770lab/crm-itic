<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gestion Effectifs 2024-25</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:system-ui,-apple-system,sans-serif;background:linear-gradient(135deg,#1a1a2e 0%,#16213e 100%);min-height:100vh;color:#fff}
.app{max-width:1400px;margin:0 auto;padding:20px}
.header{display:flex;justify-content:space-between;align-items:center;padding:20px;background:rgba(255,255,255,0.05);border-radius:16px;margin-bottom:24px;backdrop-filter:blur(10px)}
.logo{display:flex;align-items:center;gap:12px}
.logo span{font-size:32px}
.logo h1{font-size:22px;font-weight:600}
.btn{padding:12px 24px;border:none;border-radius:12px;font-size:14px;font-weight:600;cursor:pointer;transition:all 0.3s;display:flex;align-items:center;gap:8px}
.btn-primary{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 10px 30px rgba(102,126,234,0.4)}
.btn-secondary{background:rgba(255,255,255,0.1);color:#fff}
.btn-secondary:hover{background:rgba(255,255,255,0.15)}
.btn-danger{background:rgba(255,71,87,0.2);color:#ff4757}
.btn-danger:hover{background:rgba(255,71,87,0.3)}
.btn-sm{padding:6px 12px;font-size:12px;border-radius:8px}
.dashboard{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;margin-bottom:24px}
.stat-card{background:rgba(255,255,255,0.05);border-radius:16px;padding:24px;display:flex;align-items:center;gap:16px;border:1px solid rgba(255,255,255,0.1);transition:all 0.3s}
.stat-card:hover{transform:translateY(-4px);border-color:rgba(255,255,255,0.2)}
.stat-icon{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:24px}
.stat-icon.blue{background:rgba(102,126,234,0.2)}
.stat-icon.green{background:rgba(46,213,115,0.2)}
.stat-icon.orange{background:rgba(255,159,67,0.2)}
.stat-icon.red{background:rgba(255,71,87,0.2)}
.stat-value{font-size:28px;font-weight:700;display:block}
.stat-label{font-size:14px;color:rgba(255,255,255,0.6)}
.filters{display:flex;gap:16px;margin-bottom:24px;flex-wrap:wrap;align-items:center}
.search-box{flex:1;min-width:250px;display:flex;align-items:center;background:rgba(255,255,255,0.05);border-radius:12px;padding:0 16px;border:1px solid rgba(255,255,255,0.1)}
.search-box input{flex:1;background:none;border:none;padding:14px;color:#fff;font-size:14px;outline:none}
.search-box input::placeholder{color:rgba(255,255,255,0.4)}
.filters select{padding:14px 20px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:12px;color:#fff;font-size:14px;cursor:pointer}
.filters select option{background:#1a1a2e}
.students-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px}
.student-card{background:rgba(255,255,255,0.05);border-radius:16px;padding:24px;border:1px solid rgba(255,255,255,0.1);transition:all 0.3s;cursor:pointer}
.student-card:hover{transform:translateY(-5px);border-color:rgba(102,126,234,0.5);box-shadow:0 20px 40px rgba(0,0,0,0.3)}
.student-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}
.student-name{font-size:18px;font-weight:600;margin-bottom:6px}
.student-formation{font-size:12px;color:rgba(255,255,255,0.7);background:rgba(102,126,234,0.2);padding:4px 10px;border-radius:20px;display:inline-block}
.status-badge{padding:6px 12px;border-radius:20px;font-size:11px;font-weight:600}
.status-badge.ok{background:rgba(46,213,115,0.2);color:#2ed573}
.status-badge.pending{background:rgba(255,159,67,0.2);color:#ff9f43}
.status-badge.late{background:rgba(255,71,87,0.2);color:#ff4757}
.student-details{margin-bottom:16px}
.detail-row{display:flex;align-items:center;gap:8px;font-size:14px;color:rgba(255,255,255,0.7);margin-bottom:8px}
.payment-progress{background:rgba(255,255,255,0.1);height:8px;border-radius:4px;overflow:hidden}
.payment-bar{height:100%;border-radius:4px;transition:width 0.5s}
.payment-bar.ok{background:linear-gradient(90deg,#2ed573,#7bed9f)}
.payment-bar.pending{background:linear-gradient(90deg,#ff9f43,#ffc048)}
.payment-bar.late{background:linear-gradient(90deg,#ff4757,#ff6b81)}
.payment-info{display:flex;justify-content:space-between;margin-top:10px;font-size:13px;color:rgba(255,255,255,0.6)}
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.8);display:none;justify-content:center;align-items:center;z-index:1000;backdrop-filter:blur(5px)}
.modal-overlay.active{display:flex}
.modal{background:linear-gradient(135deg,#1a1a2e,#16213e);border-radius:20px;width:90%;max-width:700px;max-height:90vh;overflow-y:auto;border:1px solid rgba(255,255,255,0.1)}
.modal-header{display:flex;justify-content:space-between;align-items:center;padding:24px;border-bottom:1px solid rgba(255,255,255,0.1)}
.modal-header h2{font-size:20px;font-weight:600}
.close-btn{width:36px;height:36px;border:none;background:rgba(255,255,255,0.1);color:#fff;border-radius:50%;font-size:24px;cursor:pointer;display:flex;align-items:center;justify-content:center}
.close-btn:hover{background:rgba(255,255,255,0.2)}
.modal-body{padding:24px}
.form-group{margin-bottom:20px}
.form-group label{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;font-size:14px;font-weight:500}
.hint{font-size:12px;color:#667eea;font-weight:400}
.form-group input,.form-group select,.form-group textarea{width:100%;padding:14px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:12px;color:#fff;font-size:14px;outline:none;transition:border-color 0.3s}
.form-group input:focus,.form-group textarea:focus{border-color:#667eea}
.form-group textarea{min-height:100px;resize:vertical;font-family:inherit}
.payment-preview{background:rgba(102,126,234,0.1);border-radius:12px;border:1px solid rgba(102,126,234,0.3);overflow:hidden;margin-top:10px}
.preview-header{display:flex;justify-content:space-between;padding:14px 16px;background:rgba(102,126,234,0.2);font-size:14px;font-weight:500}
#previewTotal{color:#2ed573;font-weight:600}
#previewTimeline{padding:16px;max-height:220px;overflow-y:auto}
.empty{color:rgba(255,255,255,0.4);font-style:italic;text-align:center;padding:20px 0}
.timeline-item{display:flex;align-items:center;gap:12px;padding:10px 0;border-bottom:1px solid rgba(255,255,255,0.05)}
.timeline-item:last-child{border-bottom:none}
.timeline-dot{width:10px;height:10px;border-radius:50%;background:#667eea;flex-shrink:0}
.timeline-dot.paid{background:#2ed573}
.timeline-date{font-size:13px;color:rgba(255,255,255,0.6);min-width:100px}
.timeline-amount{font-weight:600;color:#2ed573;min-width:70px}
.timeline-type{font-size:12px;color:rgba(255,255,255,0.4);flex:1}
.modal-footer{padding:24px;border-top:1px solid rgba(255,255,255,0.1);display:flex;justify-content:flex-end;gap:12px}
.detail-modal .modal{max-width:700px}
.student-profile{text-align:center;padding-bottom:20px;border-bottom:1px solid rgba(255,255,255,0.1);margin-bottom:20px}
.student-avatar{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);display:flex;align-items:center;justify-content:center;font-size:32px;margin:0 auto 16px;font-weight:700}
.student-profile h3{font-size:24px;font-weight:600;margin-bottom:8px}
.student-profile .student-formation{font-size:14px;padding:6px 16px}
.info-section{margin-bottom:24px}
.info-section h4{font-size:14px;color:rgba(255,255,255,0.5);text-transform:uppercase;letter-spacing:1px;margin-bottom:16px;display:flex;align-items:center;gap:8px}
.info-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.info-item{background:rgba(255,255,255,0.03);padding:16px;border-radius:12px;border:1px solid rgba(255,255,255,0.05)}
.info-item.full{grid-column:1/-1}
.info-label{font-size:12px;color:rgba(255,255,255,0.5);margin-bottom:6px}
.info-value{font-size:15px;font-weight:500}
.info-value a{color:#667eea;text-decoration:none}
.info-value a:hover{text-decoration:underline}
.payment-detail .payment-progress{height:12px;margin-bottom:12px}
.payment-stats{display:flex;justify-content:space-between;font-size:14px}
.payment-stats .paid{color:#2ed573}
.payment-stats .remaining{color:#ff9f43}
.status-section{display:flex;align-items:center;justify-content:center;gap:12px;padding:16px;background:rgba(255,255,255,0.03);border-radius:12px;margin-bottom:20px}
.status-section .status-badge{font-size:14px;padding:8px 20px}
.notes-section textarea{width:100%;min-height:80px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:12px;color:#fff;padding:14px;font-size:14px;resize:vertical;font-family:inherit}
.notes-section textarea:focus{outline:none;border-color:#667eea}
.edit-input{width:100%;padding:12px;background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.15);border-radius:10px;color:#fff;font-size:14px;margin-top:6px;transition:all 0.3s}
.edit-input:focus{outline:none;border-color:#667eea;background:rgba(255,255,255,0.12)}
.echeances-list{background:rgba(255,255,255,0.03);border-radius:12px;border:1px solid rgba(255,255,255,0.05);max-height:300px;overflow-y:auto}
.echeance-item{display:flex;align-items:center;gap:12px;padding:12px 16px;border-bottom:1px solid rgba(255,255,255,0.05);transition:background 0.2s}
.echeance-item:last-child{border-bottom:none}
.echeance-item:hover{background:rgba(255,255,255,0.03)}
.echeance-item.is-paid{opacity:0.6}
.echeance-check{width:22px;height:22px;border-radius:6px;border:2px solid rgba(255,255,255,0.3);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all 0.2s;flex-shrink:0}
.echeance-check:hover{border-color:#667eea}
.echeance-check.checked{background:#2ed573;border-color:#2ed573}
.echeance-check.checked::after{content:"‚úì";color:#fff;font-size:14px;font-weight:bold}
.echeance-info{flex:1;display:flex;align-items:center;gap:10px}
.echeance-date{font-size:14px;font-weight:500}
.echeance-type{font-size:12px;color:rgba(255,255,255,0.5)}
.echeance-amount{font-size:16px;font-weight:600;color:#2ed573}
.echeance-amount.unpaid{color:#ff9f43}
.echeance-actions{display:flex;gap:6px}
.echeance-edit-btn,.echeance-delete-btn{width:28px;height:28px;border:none;border-radius:6px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:14px;transition:all 0.2s}
.echeance-edit-btn{background:rgba(102,126,234,0.2);color:#667eea}
.echeance-edit-btn:hover{background:rgba(102,126,234,0.4)}
.echeance-delete-btn{background:rgba(255,71,87,0.2);color:#ff4757}
.echeance-delete-btn:hover{background:rgba(255,71,87,0.4)}
.echeance-edit-row{display:flex;gap:8px;align-items:center;flex:1;flex-wrap:wrap}
.echeance-edit-row input{padding:8px 10px;background:rgba(255,255,255,0.1);border:1px solid rgba(255,255,255,0.2);border-radius:6px;color:#fff;font-size:13px;width:auto}
.echeance-edit-row input[type="date"]{width:140px}
.echeance-edit-row input[type="number"]{width:80px}
.echeance-edit-row select{padding:8px 10px;background:rgba(255,255,255,0.1);border:1px solid rgba(255,255,255,0.2);border-radius:6px;color:#fff;font-size:13px}
.echeance-save-btn,.echeance-cancel-btn{padding:6px 10px;border:none;border-radius:6px;cursor:pointer;font-size:12px;font-weight:500}
.echeance-save-btn{background:#2ed573;color:#fff}
.echeance-cancel-btn{background:rgba(255,255,255,0.1);color:#fff}
.add-echeance-btn{width:100%;padding:12px;margin-top:10px;background:rgba(102,126,234,0.1);border:2px dashed rgba(102,126,234,0.3);border-radius:10px;color:#667eea;font-size:14px;font-weight:500;cursor:pointer;transition:all 0.2s}
.add-echeance-btn:hover{background:rgba(102,126,234,0.2);border-color:rgba(102,126,234,0.5)}
.echeances-raw{background:rgba(255,255,255,0.03);border-radius:8px;padding:12px;font-size:13px;color:rgba(255,255,255,0.7);margin-top:8px;white-space:pre-wrap;word-break:break-word}
@media(max-width:900px){.dashboard{grid-template-columns:repeat(2,1fr)}.info-grid{grid-template-columns:1fr}}
@media(max-width:600px){.dashboard{grid-template-columns:1fr}.header{flex-direction:column;gap:16px;text-align:center}.echeance-edit-row{flex-wrap:wrap}}
</style>
</head>
<body>
<div class="app">
<header class="header">
<div class="logo"><span>üéì</span><h1>Gestion Effectifs 2024-25</h1></div>
<button class="btn btn-primary" onclick="openModal()">+ Nouvel √©tudiant</button>
</header>
<div class="dashboard">
<div class="stat-card"><div class="stat-icon blue">üë•</div><div><span class="stat-value" id="totalCount">0</span><span class="stat-label">√âtudiants</span></div></div>
<div class="stat-card"><div class="stat-icon green">‚úÖ</div><div><span class="stat-value" id="okCount">0</span><span class="stat-label">√Ä jour</span></div></div>
<div class="stat-card"><div class="stat-icon orange">‚è≥</div><div><span class="stat-value" id="pendingCount">0</span><span class="stat-label">En attente</span></div></div>
<div class="stat-card"><div class="stat-icon red">‚ö†Ô∏è</div><div><span class="stat-value" id="lateCount">0</span><span class="stat-label">Retard</span></div></div>
</div>
<div class="filters">
<div class="search-box"><span>üîç</span><input type="text" id="searchInput" placeholder="Rechercher un √©tudiant..." oninput="filterStudents()"></div>
<select id="formationFilter" onchange="filterStudents()"><option value="">Toutes les formations</option></select>
<select id="statusFilter" onchange="filterStudents()"><option value="">Tous les statuts</option><option value="ok">‚úÖ √Ä jour</option><option value="pending">‚è≥ En attente</option><option value="late">‚ö†Ô∏è En retard</option></select>
</div>
<div class="students-grid" id="studentsGrid"></div>
</div>
<div class="modal-overlay" id="modalOverlay" onclick="closeModal()">
<div class="modal" onclick="event.stopPropagation()">
<div class="modal-header"><h2>üìù Nouvel √©tudiant</h2><button class="close-btn" onclick="closeModal()">√ó</button></div>
<div class="modal-body">
<div class="form-group"><label>Nom complet</label><input type="text" id="studentName" placeholder="Ex: DUPONT Marie"></div>
<div class="form-group"><label>T√©l√©phone</label><input type="text" id="studentPhone" placeholder="Ex: 0612345678"></div>
<div class="form-group"><label>Formation</label><input type="text" id="studentFormation" placeholder="Ex: M1 INFO CS"></div>
<div class="form-group"><label>Rythme</label><select id="studentRythme"><option value="IOA">IOA</option><option value="Initiale">Initiale</option><option value="Alternance">Alternance</option><option value="SFP">SFP</option></select></div>
<div class="form-group"><label>Banque</label><input type="text" id="studentBank" placeholder="Ex: BNP, LCL, SG..."></div>
<div class="form-group"><label>√âch√©ances (texte brut)</label><textarea id="paymentInput" placeholder="Ex: 760‚Ç¨ pvt le 20/08/2025 puis 323‚Ç¨/mois du 20/10/2025 au 20/07/2026"></textarea></div>
</div>
<div class="modal-footer"><button class="btn btn-secondary" onclick="closeModal()">Annuler</button><button class="btn btn-primary" onclick="saveStudent()">üíæ Enregistrer</button></div>
</div>
</div>
<div class="modal-overlay detail-modal" id="detailModal" onclick="closeDetailModal()">
<div class="modal" onclick="event.stopPropagation()">
<div class="modal-header"><h2>üë§ Fiche √©tudiant</h2><button class="close-btn" onclick="closeDetailModal()">√ó</button></div>
<div class="modal-body" id="detailContent"></div>
<div class="modal-footer" id="detailFooter"></div>
</div>
</div>
<script>
let students=[
{id:1,name:"ESSAGA Flora",formation:"M1 RH",rythme:"IOA",phone:"0744139534",bank:"BANQUE POSTALE",echeancesRaw:"760‚Ç¨ r√©gl√© en esp√®ce le 20/02/25 PUIS PVT DE 747,15‚Ç¨/mois du 5/01/26 AU 5/07/26",status:"ok",paid:760,total:5243},
{id:2,name:"MOUNGUERI Rich Varland",formation:"M1 INFO CS",rythme:"IOA",phone:"0758779884",bank:"LCL",echeancesRaw:"760‚Ç¨/CB LE 04/03/25 puis pvt de 747,15‚Ç¨/mois du 25/01/26 au 25/07/26",status:"ok",paid:760,total:5243},
{id:3,name:"ANANI Koffi",formation:"M1 INFO CS",rythme:"IOA",phone:"0759367370",bank:"",echeancesRaw:"760‚Ç¨/PVT LE 10/10/25 PUIS PVT DE 653,75/mois du 25/01/26 au 25/08/26",status:"pending",paid:0,total:5990},
{id:4,name:"SOGBOSSI Max Ronaldo",formation:"M1 INFO CS",rythme:"IOA",phone:"0743307010",bank:"",echeancesRaw:"760‚Ç¨/PVT le 12/10/2025 puis pvt de 653,75/mois du 28/01/26 au 28/08/26",status:"pending",paid:0,total:5990},
{id:5,name:"TCHINDA Lo√Øc",formation:"M1 INFO CS",rythme:"IOA",phone:"0764844814",bank:"",echeancesRaw:"760‚Ç¨/PVT le 28/06/2025 puis pvt de 653,75/mois du 28/01/26 au 28/08/26",status:"pending",paid:0,total:5990},
{id:6,name:"SOUMAHORO Hafsoitou",formation:"M2 MSC",rythme:"IOA",phone:"0753594359",bank:"BOURSOBANK",echeancesRaw:"760‚Ç¨/ESPECE LE 07/03/2025 a r√©gl√© 1569‚Ç¨/ESP le 15/10/25 puis pvt de 523‚Ç¨/mois du 20/01/26 au 20/07/26",status:"ok",paid:2329,total:5467},
{id:7,name:"TRAORE Diarah",formation:"BTS SIO 2 SLAM",rythme:"IOA",phone:"0753291991",bank:"BQ POPULAIRE",echeancesRaw:"760‚Ç¨ va regler le 11/09/25 en esp√®ce puis pvt de 323‚Ç¨ du 30/10/25 au 30/07/26",status:"pending",paid:0,total:3690},
{id:8,name:"KAM KEFUYANTSAP Eve Manuela",formation:"BTS SIO 2 SISR",rythme:"Initiale",phone:"0613198352",bank:"",echeancesRaw:"A r√©gl√© 3000‚Ç¨/ VIREMENT LE 23/08/25 puis pvt de 990‚Ç¨ 15/01/26",status:"ok",paid:3000,total:3990},
{id:9,name:"BOUDRAA Adam",formation:"BTS SIO 2 SISR",rythme:"Initiale",phone:"0769853540",bank:"CIC",echeancesRaw:"760‚Ç¨/PVT et 3230‚Ç¨ r√©gl√© par ch√®que",status:"ok",paid:3990,total:4990},
{id:10,name:"KEITA Siriman",formation:"BTS CG 2",rythme:"Alternance",phone:"0621083426",bank:"LCL",echeancesRaw:"760‚Ç¨/PVT LE 30/08/2025 puis pvt de 323‚Ç¨ du 30/10/25 au 30/07/26",status:"pending",paid:0,total:3690},
{id:11,name:"LANGLOIS L√©o",formation:"M2 INFO BD",rythme:"IOA",phone:"0783389741",bank:"SG",echeancesRaw:"760‚Ç¨/chq le 11/03/2025 puis pvt de 747,15‚Ç¨ du 30/01/26 au 30/07/26",status:"ok",paid:760,total:5243},
{id:12,name:"BASOL Th√©o",formation:"Bachelor AIS",rythme:"Alternance",phone:"0786060906",bank:"",echeancesRaw:"PVT 760‚Ç¨ LE 01/09/2025 puis pvt de 604,29‚Ç¨ du 01/01/2026 au 01/07/2026",status:"pending",paid:0,total:4386},
{id:13,name:"LIKOUANGA Clotaire Marthin",formation:"BTS SIO 2 SLAM",rythme:"IOA",phone:"0758441199",bank:"LCL",echeancesRaw:"380‚Ç¨/PVT LE 30/08/25 et 380‚Ç¨/pvt le 30/09/25 puis pvt de 323‚Ç¨ du 30/10/25 au 30/07/26",status:"pending",paid:0,total:3690},
{id:14,name:"FOMO Oc√©ane",formation:"BTS CG 2",rythme:"Alternance",phone:"0759575007",bank:"SG",echeancesRaw:"760‚Ç¨ pvt le 20/08/2025 puis 323‚Ç¨/mois du 20/10/2025 au 20/07/2026",status:"pending",paid:0,total:3690},
{id:15,name:"LOMPALA Onesimo",formation:"BTS CG 2",rythme:"IOA",phone:"0766575115",bank:"",echeancesRaw:"380‚Ç¨ PVT LE 30/08/2025 et 380‚Ç¨ pvt le 30/09/2025 puis pvt de 323‚Ç¨ du 30/10/2025 au 30/07/2026",status:"pending",paid:0,total:3690},
{id:16,name:"ALOLI ROBERT VICTOR Gloria",formation:"BTS CG 2",rythme:"Initiale",phone:"0744864346",bank:"",echeancesRaw:"760‚Ç¨ pvt le 30/08/2025 puis 323‚Ç¨/mois du 30/09/2025 au 30/06/2026",status:"pending",paid:0,total:3990},
{id:17,name:"MHOUMADI Mwindjou",formation:"BTS SIO 2 SISR",rythme:"Alternance",phone:"0766940502",bank:"CE",echeancesRaw:"380‚Ç¨ PVT LE 30/08/2025 et 380‚Ç¨ pvt le 30/09/2025 puis pvt de 323‚Ç¨ du 30/10/2025 au 30/07/2026",status:"pending",paid:0,total:3690},
{id:18,name:"MFINA NGOUARI Hubert",formation:"BTS SIO 2 SISR",rythme:"IOA",phone:"0759694164",bank:"LCL",echeancesRaw:"380‚Ç¨ PVT LE 30/08/2025 et 380‚Ç¨ pvt le 30/09/2025 puis pvt de 323‚Ç¨ du 30/10/2025 au 30/07/2026",status:"pending",paid:0,total:3690},
{id:19,name:"NGOLA Gloire Celeste",formation:"BTS SIO 2 SLAM",rythme:"Initiale",phone:"0615279495",bank:"BANQUE POSTALE",echeancesRaw:"(A EU LA REDUCTION DE 1000‚Ç¨) (A r√©gl√© 760‚Ç¨/CB le 3/09/2025) puis pvt de 470‚Ç¨ LE 20/09 ET 470‚Ç¨ LE 20/10 PUIS PVT DE 286,25‚Ç¨ DU 20/11/25 AU 20/06/26",status:"ok",paid:760,total:3990},
{id:20,name:"TIENMENI NGUEGA Emmanuel Roswelt",formation:"BTS SIO 2 SISR",rythme:"Initiale",phone:"0780879770",bank:"SG",echeancesRaw:"EARLY BIRDS 1000‚Ç¨ - pvt 380‚Ç¨ 08/25 et 380‚Ç¨ 09/25 puis pvt de 470‚Ç¨ du 30/10/25 au 30/11/25 puis pvt de 327,14 DU 30/12/25 AU 30/06/26",status:"ok",paid:1000,total:4990},
{id:21,name:"SAMBA LOUZEY Rom√©o Aristide",formation:"BACH CDA",rythme:"IOA",phone:"0780879770",bank:"LCL",echeancesRaw:"737‚Ç¨ pris sur l'avance de son fr√®re - A REGLE 23‚Ç¨/CB 604,3‚Ç¨/mois du 15/01/26 au 15/07/26",status:"ok",paid:760,total:4386},
{id:22,name:"KOUGBLENOU Cyberia",formation:"M2 INFO CS",rythme:"IOA",phone:"0744742224",bank:"",echeancesRaw:"760‚Ç¨/ESP LE 11/09/25 puis 653,75 du 30/01/26 au 30/08/26",status:"pending",paid:0,total:5990},
{id:23,name:"GOUEDAN Anne-Audrey",formation:"BTS CG 2",rythme:"IOA",phone:"0758792041",bank:"SG",echeancesRaw:"3990‚Ç¨ vir√©s le 26/06/25",status:"ok",paid:3990,total:3990},
{id:24,name:"FELLON Alice",formation:"BTS NDRC 2",rythme:"Initiale",phone:"0768705616",bank:"LCL",echeancesRaw:"999,50 pvt du 05/09/2025 au 05/12/2025",status:"pending",paid:0,total:3998},
{id:25,name:"NDIR Ndey Fatime",formation:"BTS COM 2",rythme:"Initiale",phone:"0601929515",bank:"CM",echeancesRaw:"760‚Ç¨ PVT LE 20/08/2025 PUIS PVT DE 323‚Ç¨ DU 20/09/2025 AU 20/06/2026",status:"pending",paid:0,total:3990},
{id:26,name:"VALDEZ KEVIN HAROLD DINDE",formation:"M2 MSFO",rythme:"Alternance",phone:"0751150995",bank:"BNP",echeancesRaw:"A r√©gl√© 1550‚Ç¨/CB + 130‚Ç¨/ESP +PVT 1000 LE 10/09/25 + PUIS PVT DE 472,86‚Ç¨ DU 10/01/2026 AU 10/07/2026",status:"ok",paid:1680,total:5517},
{id:27,name:"FANOINASON Ida",formation:"M2 MSFO",rythme:"Alternance",phone:"0622065825",bank:"LCL",echeancesRaw:"",status:"pending",paid:0,total:0},
{id:28,name:"KOUMBA MOUNGUENGUI Sta√´l",formation:"M2 MSFO",rythme:"IOA",phone:"0680770699",bank:"",echeancesRaw:"760‚Ç¨ PVT LE 12/09/25 PUIS PVT DE 747,15‚Ç¨ DU 12/01/2026 AU 12/07/2026",status:"pending",paid:0,total:5243},
{id:29,name:"PEMADJEU NGAKANOU Oriance Duchele",formation:"M2 MSFO",rythme:"IOA",phone:"0749745175",bank:"BNP",echeancesRaw:"A r√©gl√© 400‚Ç¨/esp le 09/10/25 puis 300‚Ç¨/CB ET PVT DE 60‚Ç¨ LE 30/10/25 380‚Ç¨ PVT LE 30/08/2025 ET 380‚Ç¨ PVT LE 30/09/2025 PUIS 747,15‚Ç¨ DU 30/01/2026 AU 30/07/2026",status:"ok",paid:760,total:5983},
{id:30,name:"ILOKI Dorcas",formation:"M1 COM",rythme:"IOA",phone:"0768989681",bank:"",echeancesRaw:"760‚Ç¨ PVT LE 10/06/2025 PUIS 747,75‚Ç¨ PVT LE 12/01/26 AU 12/07/2026",status:"pending",paid:0,total:5254},
{id:31,name:"MAMPOUYA IBARA Ranelle",formation:"BTS SIO 2 SLAM",rythme:"Alternance",phone:"0667725348",bank:"LBP",echeancesRaw:"760‚Ç¨ pvt le 30/08/2025 puis 323‚Ç¨ du 30/10/2025 au 30/07/2026",status:"pending",paid:0,total:3690},
{id:32,name:"MODZINU Kofi St√©phane",formation:"BACH CDA",rythme:"IOA",phone:"0745601699",bank:"BNP",echeancesRaw:"760‚Ç¨ PVT LE 30/09/2025 puis 604,30 du 30/01/2026 au 30/07/2026",status:"pending",paid:0,total:4986},
{id:33,name:"AKDIM Anass",formation:"BTS SIO 2 SISR",rythme:"IOA",phone:"0759594767",bank:"SG",echeancesRaw:"760‚Ç¨ PVT LE 28/09/2025 puis 323‚Ç¨ du 28/10/2025 au 28/07/2026",status:"pending",paid:0,total:3690},
{id:34,name:"NDOUMBE MASSODI Blonde Lapens√©e",formation:"BTS MCO 2",rythme:"IOA",phone:"0745058130",bank:"BRED",echeancesRaw:"PVT DE 443,4‚Ç¨ DU 25/10/25 AU 25/06/26",status:"pending",paid:0,total:3990},
{id:35,name:"BOUNXOU Ilies",formation:"BTS SIO 2 SLAM",rythme:"IOA",phone:"0627645649",bank:"LCL",echeancesRaw:"PVT DE 760‚Ç¨ LE 30/08/25 PUIS 323‚Ç¨ LE 30/10/25 AU 30/07/26",status:"pending",paid:0,total:3690},
{id:36,name:"SOUMARE Fily",formation:"BTS CG 2",rythme:"IOA",phone:"0760805551",bank:"BNP",echeancesRaw:"PVT 760‚Ç¨ LE 20/08/2025 PUIS 323‚Ç¨ PVT LE 28/10/25 AU 28/07/26",status:"pending",paid:0,total:3690},
{id:37,name:"SCHNEIDER Komlan Irene",formation:"BTS MCO 2",rythme:"Initiale",phone:"0751075045",bank:"BANQUE POSTALE",echeancesRaw:"PVT 760‚Ç¨ LE 06/10/2025 PUIS 323‚Ç¨ DU 15/09/2025 pvt 30/10/25 au 30/06/26",status:"pending",paid:0,total:3990},
{id:38,name:"DOGBEVI SHALOM",formation:"BTS SIO 2 SLAM",rythme:"Initiale",phone:"0759295147",bank:"BANQUE POSTALE",echeancesRaw:"PVT 760‚Ç¨ LE 15/08/2025 PUIS 323‚Ç¨ DU 15/09/2025 AU 15/06/2026",status:"pending",paid:0,total:3990},
{id:39,name:"MONDE DASO Gloria",formation:"BTS CG 2",rythme:"IOA",phone:"0758829078",bank:"SG",echeancesRaw:"PVT DE 443,4‚Ç¨ DU 25/10/25 AU 25/06/26",status:"pending",paid:0,total:3990},
{id:40,name:"SEUKOU SEUKOU Yvan",formation:"M1 INFO CS",rythme:"IOA",phone:"0624266040",bank:"",echeancesRaw:"760‚Ç¨ PVT LE 30/09/2025 PUIS PVT 747,15‚Ç¨ DU 30/01/2026 AU 30/07/2026",status:"pending",paid:0,total:5243},
{id:41,name:"ZEUFACK Lucresse",formation:"BTS SIO 2 SLAM",rythme:"IOA",phone:"0664623985",bank:"SG",echeancesRaw:"760‚Ç¨ PVT LE 30/08/2025 PUIS PVT DE 358,89‚Ç¨ DU 30/10/25 AU 30/06/26",status:"pending",paid:0,total:3990},
{id:42,name:"TOHOUEDE Lyse",formation:"M2 MSC",rythme:"Alternance",phone:"0759313146",bank:"BNP",echeancesRaw:"380‚Ç¨ PVT LE 30/08/2025 380‚Ç¨ PVT LE 30/09/2025 PUIS 747,15‚Ç¨ DU 30/01/2026 AU 30/07/2026",status:"pending",paid:0,total:5243},
{id:43,name:"MBAKI Laury",formation:"BACH CDME",rythme:"IOA",phone:"0749757775",bank:"SG",echeancesRaw:"747,16/mois du 07/01/2025 au 07/07/2026",status:"pending",paid:0,total:4483},
{id:44,name:"DIANINGANA Itsono Benie",formation:"BACH CDA",rythme:"IOA",phone:"0745249250",bank:"",echeancesRaw:"PVT 760‚Ç¨ LE 30/09/2025 ET 604,29‚Ç¨ DU 15/01/2026 AU 15/07/2026",status:"pending",paid:0,total:4386},
{id:45,name:"NGONO ASSOGO Pierre Thierry",formation:"Bachelor AIS",rythme:"IOA",phone:"0699020519",bank:"CE",echeancesRaw:"PVT 760‚Ç¨ le 25/09/2025 puis 604,29‚Ç¨ du 25/01/2026 au 25/07/2026",status:"pending",paid:0,total:4386},
{id:46,name:"TAIROU Marcel",formation:"BTS COM 2",rythme:"IOA",phone:"0779536538",bank:"BANQUE POPULAIRE",echeancesRaw:"pvt 380‚Ç¨ le 30/08/25 et 380‚Ç¨ le 30/09/25 puis 323‚Ç¨ du 30/10/2025 au 30/07/2026",status:"pending",paid:0,total:3690},
{id:47,name:"CHICHA Gad",formation:"BTS CG 2",rythme:"IOA",phone:"0695189610",bank:"LCL",echeancesRaw:"pvt 399‚Ç¨ du 25/10/25 au 25/06/26",status:"pending",paid:0,total:3591},
{id:48,name:"AHONDO Victoria",formation:"M1 MSC",rythme:"IOA",phone:"0745335215",bank:"SG",echeancesRaw:"PVT 760‚Ç¨LE 15/09/2025 puis 747,15 du 15/01/2026 au 15/07/2026",status:"pending",paid:0,total:5990},
{id:49,name:"FOWOUE Malick",formation:"BTS SIO 2 SLAM",rythme:"IOA",phone:"0761424069",bank:"BNP",echeancesRaw:"pvt 760‚Ç¨ le 25/09/2025 puis 323‚Ç¨ du 25/10/25 au 25/07/2026",status:"pending",paid:0,total:3690},
{id:50,name:"NDJAFANG Quentin",formation:"BTS SIO 2 SISR",rythme:"IOA",phone:"0780604873",bank:"",echeancesRaw:"pvt 760‚Ç¨ le 25/09/2025 puis 323‚Ç¨ du 25/10/25 au 25/07/2026",status:"pending",paid:0,total:3690},
{id:51,name:"HEFNY Emma",formation:"BTS COM 2",rythme:"Alternance",phone:"0612632681",bank:"",echeancesRaw:"PVT 380‚Ç¨LE 30/08/2025 ET 380‚Ç¨ LE 30/09/2025 PUIS 323‚Ç¨DU 30/10/2025 AU 30/07/2026",status:"pending",paid:0,total:3690},
{id:52,name:"BA Ndeye Fatou",formation:"BTS MCO 2",rythme:"Alternance",phone:"0763798575",bank:"",echeancesRaw:"",status:"pending",paid:0,total:0},
{id:53,name:"NIALI BISSELO Claude",formation:"M2 MSFO",rythme:"IOA",phone:"0766342796",bank:"",echeancesRaw:"PVT 380‚Ç¨ LE 18/09/25 ET 380‚Ç¨LE 18/10/25 PUIS 782,86‚Ç¨du 19/01/2026 au 19/07/2026",status:"pending",paid:0,total:5460},
{id:54,name:"SARHOU Aymane",formation:"M2 INFO BD",rythme:"IOA",phone:"0753322129",bank:"LCL",echeancesRaw:"PVT 760‚Ç¨ LE 15/09/2025 ET 782,26‚Ç¨ DU 15/01/26 AU 10/07/26",status:"pending",paid:0,total:5454},
{id:55,name:"DARMINE SIDI DARMATY",formation:"BTS COM 2",rythme:"IOA",phone:"0650814318",bank:"CM",echeancesRaw:"a regle 760‚Ç¨ le 18/07/25 ET 348‚Ç¨ DU 29/10/25 AU 29/07/26",status:"ok",paid:760,total:3892},
{id:56,name:"MPIKA Tony",formation:"M1 RH",rythme:"IOA",phone:"0768474975",bank:"",echeancesRaw:"PVT 760‚Ç¨ LE 12/05/2025 PUIS 782,86‚Ç¨ DU 12/01/2026 AU 12/07/26",status:"pending",paid:0,total:5460},
{id:57,name:"KADAYI Emmanuella",formation:"M1 MSC",rythme:"IOA",phone:"0613692756",bank:"",echeancesRaw:"PVT 380‚Ç¨LE 30/08/2025 ET 380‚Ç¨ LE 30/09/2025 PUIS PVT DE 782,86‚Ç¨ DU 30/01/26 AU 30/07/26",status:"pending",paid:0,total:5460},
{id:58,name:"KHAIRALLAH Anass",formation:"M2 INFO BD",rythme:"IOA",phone:"0609391620",bank:"CHQ CAUTION",echeancesRaw:"PVT 380‚Ç¨LE 30/08/2025 ET 380‚Ç¨ LE 30/09/2025 PUIS PVT DE 782,86‚Ç¨ DU 30/01/26 AU 30/07/26",status:"pending",paid:0,total:5460},
{id:59,name:"MADJIRE B√©n√©dicte",formation:"Bachelor RH",rythme:"Initiale",phone:"0753781833",bank:"",echeancesRaw:"R√©gl√© par chq 400‚Ç¨ et 200‚Ç¨ puis PVT de 464‚Ç¨ du 30/10/2025 au 30/07/26",status:"ok",paid:600,total:4776},
{id:60,name:"KALEMA KIPELE Voldie",formation:"BTS MCO 2",rythme:"Initiale",phone:"0766292742",bank:"SG",echeancesRaw:"PVT 424‚Ç¨DU 25/09/25 AU 25/06/26",status:"pending",paid:0,total:4240},
{id:61,name:"MAMA IBOURAIMA Rehanath",formation:"BTS SIO 2 SISR",rythme:"Initiale",phone:"0699921954",bank:"SG",echeancesRaw:"VRMT DE 760‚Ç¨ LE 30/04/25 puis PVT DE 348‚Ç¨ DU 10/09/25 AU 10/06/26",status:"ok",paid:760,total:4240},
{id:62,name:"AGNIMEL Agnimel Marc",formation:"M1 RH",rythme:"IOA",phone:"0668325807",bank:"BNP",echeancesRaw:"R√©gl√© 360‚Ç¨ en esp√®ce le 15/04/25 r√©gl√© 400‚Ç¨/esp le 13/05/25 et PVT 782,86‚Ç¨ du 30/01/25 au 30/07/26",status:"ok",paid:760,total:5460},
{id:63,name:"NDIAYE Astou",formation:"BTS NDRC 2",rythme:"Initiale",phone:"0759479487",bank:"",echeancesRaw:"A r√©gl√© 760‚Ç¨ le 26/08/25 A r√©gl√© 2250‚Ç¨/virt A r√©gl√© 2000‚Ç¨ le 7/10/25",status:"ok",paid:5010,total:5010},
{id:64,name:"ANANFAH NGUENGAND Belvira",formation:"M2 INFO BD",rythme:"IOA",phone:"0651588929",bank:"",echeancesRaw:"PVT 760‚Ç¨ LE 05/09/2025 PUIS 782,86‚Ç¨ DU 05/01/26 AU 05/07/26",status:"pending",paid:0,total:5460},
{id:65,name:"BANGOURA Aminata",formation:"BTS CG 2",rythme:"IOA",phone:"0780349051",bank:"",echeancesRaw:"PVT 760‚Ç¨ LE 30/09/25 PUIS PVT DE 348‚Ç¨ DU 30/10/25 AU 30/07/26",status:"pending",paid:0,total:3892},
{id:66,name:"TINDO Kenne",formation:"M2 MSC",rythme:"IOA",phone:"0775745607",bank:"LCL",echeancesRaw:"PVT 380‚Ç¨ LE 30/09/25 ET 380‚Ç¨ LE 30/10/25 PUIS PVT DE 782,86‚Ç¨ DU 30/01/26 AU 30/07/26",status:"pending",paid:0,total:5460},
{id:67,name:"AMADI ALWA Arlette",formation:"BTS MCO 2",rythme:"Initiale",phone:"0780014070",bank:"",echeancesRaw:"A r√©g√©l√© 1060‚Ç¨/esp puis pvt de 345,34‚Ç¨ du 20/01/26 au 20/06/26",status:"ok",paid:1060,total:3132},
{id:68,name:"ATABA Magnim",formation:"M2 MSFO",rythme:"IOA",phone:"0699264284",bank:"",echeancesRaw:"VRT 760‚Ç¨ LE 30/06/25 PUIS PVT DE 782,86‚Ç¨ DU 30/01/26 AU 30/07/26",status:"ok",paid:760,total:5460},
{id:69,name:"BA Mbeugue",formation:"M1 MSC",rythme:"IOA",phone:"0763109012",bank:"SG",echeancesRaw:"R√©gl√© 760‚Ç¨/CB PUIS PVT DE 782,86‚Ç¨ DU 10/01/26 AU 10/07/26",status:"ok",paid:760,total:5460},
{id:70,name:"BEHANZIN Darnell",formation:"M1 MSC",rythme:"IOA",phone:"0773052141",bank:"",echeancesRaw:"PVT 760‚Ç¨ LE 25/08/2025 PUIS PVT DE 782,86 DU 26/01/26 AU 26/07/26",status:"pending",paid:0,total:5460},
{id:71,name:"ABILANGA Orlaine",formation:"M2 MSC",rythme:"IOA",phone:"0775871803",bank:"",echeancesRaw:"VRMT 760‚Ç¨ LE 30/04/2025 PUIS 782,86‚Ç¨ DU 10/01/26 AU 10/07/26",status:"ok",paid:760,total:5460},
{id:72,name:"TEKOBOU KENFACK Rose",formation:"M1 FSO",rythme:"Initiale",phone:"0783831255",bank:"",echeancesRaw:"R√©gl√© 760‚Ç¨/CB LE 12/05/2025 PUIS 548‚Ç¨ DU 15/10/25 AU 15/07/26",status:"ok",paid:760,total:5692},
{id:73,name:"TRAORE Souleyman",formation:"M1 INFO CS",rythme:"IOA",phone:"0744909976",bank:"",echeancesRaw:"R√©gl√© 760‚Ç¨/CB LE 13/05/2025 PUIS PVT 782,86 ‚Ç¨ DU 30/01/2026 AU 30/07/2026",status:"ok",paid:760,total:5460},
{id:74,name:"MOUNTOU Anders",formation:"BTS SIO 2 SLAM",rythme:"IOA",phone:"0766620889",bank:"BNP",echeancesRaw:"PVT DE 760‚Ç¨ LE 22/09/2025 PUIS PVT DE 386,67‚Ç¨ DU 22/10/25 AU 22/06/26",status:"pending",paid:0,total:4240},
{id:75,name:"GUETCHO YOMPA Mireille",formation:"Bachelor AIS",rythme:"IOA",phone:"0761021402",bank:"BNP",echeancesRaw:"PVT 760‚Ç¨ LE 20/10/2025 PUIS PVT 528,75‚Ç¨ DU 30/01/2026 AU 30/08/2026",status:"pending",paid:0,total:4990},
{id:76,name:"ONANGA Love Ness",formation:"Bachelor RH",rythme:"IOA",phone:"0611725705",bank:"CIC",echeancesRaw:"REGLE 760‚Ç¨/ESP l'ann√©e derni√®re puis 640‚Ç¨ du 30/01/2026 au 30/07/2026",status:"ok",paid:760,total:5240},
{id:77,name:"MBANI LAKABI Khessie",formation:"BTS SIO 2 SLAM",rythme:"IOA",phone:"0744292942",bank:"LCL",echeancesRaw:"424‚Ç¨ par PT du 30/10/25 au 30/07/26",status:"pending",paid:0,total:4240},
{id:78,name:"MALEMISA Laurette",formation:"BTS NDRC 2",rythme:"IOA",phone:"0744292942",bank:"LCL",echeancesRaw:"750‚Ç¨ par cb le 19/9/25 + 424‚Ç¨ PAR PVT DU 15/10/25 AU 15/07/26",status:"ok",paid:750,total:4990},
{id:79,name:"CHARLES Pierreinne",formation:"BACH CDME",rythme:"Alternance",phone:"0627562203",bank:"",echeancesRaw:"",status:"pending",paid:0,total:0},
{id:80,name:"SIDJE Amstrong",formation:"M1 MSC",rythme:"IOA",phone:"0699670981",bank:"CE",echeancesRaw:"PVT 380‚Ç¨ LE 30/08/25 - 380‚Ç¨ le 30/09/2025 puis pvt de 818,57‚Ç¨du 30/01/26 au 30/07/26",status:"pending",paid:0,total:5690},
{id:81,name:"TANGHAWAYE Ngamba B√©n√©dicte",formation:"M2 RH",rythme:"IOA",phone:"0745995760",bank:"SG",echeancesRaw:"REGLE 760‚Ç¨/ESP LE 24/09/25 a r√©gl√© 1370‚Ç¨/ESP LE 02/02/26 puis PVT DE 554,66‚Ç¨ DU 28/02/26 AU 30/07/26",status:"ok",paid:2130,total:4903},
{id:82,name:"MOUSSAVOU Morgane",formation:"M1 MSC",rythme:"Initiale",phone:"0776964197",bank:"CM",echeancesRaw:"PVT 760‚Ç¨ LE 30/08/25 PUIS PVT DE 498,18‚Ç¨ DU 07/09/2025 AU 07/07/26",status:"pending",paid:0,total:6250},
{id:83,name:"ELO Yann Sorrel",formation:"M1 MSC",rythme:"IOA",phone:"0781514525",bank:"",echeancesRaw:"PVT 380‚Ç¨ le 01/09/25 et 380‚Ç¨ le 01/10/25 puis PVT DE 818,58‚Ç¨ du 01/01/2026 au 01/07/2026",status:"pending",paid:0,total:5671},
{id:84,name:"ASSOH Akissi Marie Doris",formation:"M1 MSC",rythme:"IOA",phone:"0753036158",bank:"SG",echeancesRaw:"PVT 760‚Ç¨ LE 28/10/25 ET PUIS PVT 818,58‚Ç¨ DU 28/01/26 AU 28/07/26",status:"pending",paid:0,total:5690},
{id:85,name:"VENGEON Sacha",formation:"BTS COM 1",rythme:"IOA",phone:"0638227708",bank:"SG",echeancesRaw:"A r√©gl√© 760‚Ç¨/CB puis pvt de 528,75‚Ç¨ du 10/12/25 au 10/07/26",status:"ok",paid:760,total:4990},
{id:86,name:"FOFANA FANTA",formation:"M2 RH",rythme:"IOA",phone:"0762980406",bank:"BNP",echeancesRaw:"a r√©gl√© 260‚Ç¨ /CB LE 24/06/25 PUIS PVT DE 623‚Ç¨ DU 05/01/26 AU 05/10/26",status:"ok",paid:260,total:6490},
{id:87,name:"CHARLES Junel",formation:"BTS COM 2",rythme:"IOA",phone:"0765770912",bank:"",echeancesRaw:"PVT 1884,48‚Ç¨ LE 06/01/26 ET PVT DE 471,12‚Ç¨ DU 06/02/2026 AU 06/06/26",status:"pending",paid:0,total:4240},
{id:88,name:"DJOMATIN Ayaba Mawousse",formation:"M2 RH",rythme:"IOA",phone:"0695561915",bank:"SG",echeancesRaw:"PVT DE 927,15‚Ç¨ DU 30/01/26 AU 30/07/26",status:"pending",paid:0,total:6490},
{id:89,name:"DASSOU Firidam",formation:"M2 RH",rythme:"IOA",phone:"0759300467",bank:"SG",echeancesRaw:"PVT 760‚Ç¨ LE 06/10/25 PUIS 818,58‚Ç¨/CB LE 27/11/25 DU 06/02/26 AU 06/07/26",status:"pending",paid:0,total:5690},
{id:90,name:"DIALLO Ibrahim Oumarou",formation:"M1 FSO",rythme:"IOA",phone:"0759213627",bank:"LCL",echeancesRaw:"PVT 760E LE 15/10/25 PUIS PVT 818,58‚Ç¨ DU 15/01/26 AU 15/07/26",status:"pending",paid:0,total:5690},
];

let currentStudentId=null;

function sortStudentsAlphabetically(){students.sort((a,b)=>a.name.localeCompare(b.name,'fr',{sensitivity:'base'}))}
function updateStats(){
    document.getElementById("totalCount").textContent=students.length;
    document.getElementById("okCount").textContent=students.filter(s=>s.status==="ok").length;
    document.getElementById("pendingCount").textContent=students.filter(s=>s.status==="pending").length;
    document.getElementById("lateCount").textContent=students.filter(s=>s.status==="late").length;
}

function updateFormationFilter(){
    const formations=[...new Set(students.map(s=>s.formation).filter(f=>f))].sort();
    const select=document.getElementById("formationFilter");
    select.innerHTML='<option value="">Toutes les formations</option>'+formations.map(f=>'<option value="'+f+'">'+f+'</option>').join('');
}

function renderStudents(data){
    data=data||students;
    data=[...data].sort((a,b)=>a.name.localeCompare(b.name,'fr',{sensitivity:'base'}));
    let html="";
    for(let i=0;i<data.length;i++){
        const s=data[i];
        const st=s.status==="ok"?"‚úÖ √Ä jour":s.status==="pending"?"‚è≥ En attente":"‚ö†Ô∏è Retard";
        const pct=s.total>0?Math.round(s.paid/s.total*100):0;
        html+='<div class="student-card" onclick="openDetailModal('+s.id+')"><div class="student-header"><div><div class="student-name">'+s.name+'</div><span class="student-formation">'+s.formation+'</span></div><span class="status-badge '+s.status+'">'+st+'</span></div><div class="student-details"><div class="detail-row">üìû '+s.phone+'</div><div class="detail-row">üìö '+s.rythme+'</div>'+(s.bank?'<div class="detail-row">üè¶ '+s.bank+'</div>':'')+'</div><div class="payment-progress"><div class="payment-bar '+s.status+'" style="width:'+pct+'%"></div></div><div class="payment-info"><span>'+s.paid+'‚Ç¨ pay√©s</span><span>'+s.total+'‚Ç¨ total</span></div></div>';
    }
    document.getElementById("studentsGrid").innerHTML=html;
}

function filterStudents(){
    const search=document.getElementById("searchInput").value.toLowerCase();
    const formation=document.getElementById("formationFilter").value;
    const status=document.getElementById("statusFilter").value;
    const filtered=students.filter(s=>{
        const matchSearch=s.name.toLowerCase().includes(search)||s.phone.includes(search);
        const matchFormation=!formation||s.formation===formation;
        const matchStatus=!status||s.status===status;
        return matchSearch&&matchFormation&&matchStatus;
    });
    renderStudents(filtered);
}

function openModal(){document.getElementById("modalOverlay").classList.add("active")}
function closeModal(){
    document.getElementById("modalOverlay").classList.remove("active");
    document.getElementById("paymentInput").value="";
    document.getElementById("studentName").value="";
    document.getElementById("studentPhone").value="";
    document.getElementById("studentBank").value="";
    document.getElementById("studentFormation").value="";
}

function openDetailModal(id){
    currentStudentId=id;
    const s=students.find(st=>st.id===id);
    if(!s)return;
    const pct=s.total>0?Math.round(s.paid/s.total*100):0;
    const remaining=s.total-s.paid;
    const statusText=s.status==="ok"?"‚úÖ √Ä jour":s.status==="pending"?"‚è≥ En attente":"‚ö†Ô∏è En retard";
    const initials=s.name.split(' ').map(n=>n[0]).join('').substring(0,2).toUpperCase();
    
    const html=`
        <div class="student-profile">
            <div class="student-avatar">${initials}</div>
            <h3>${s.name}</h3>
            <span class="student-formation">${s.formation}</span>
        </div>
        <div class="status-section">
            <span>Statut:</span>
            <span class="status-badge ${s.status}">${statusText}</span>
        </div>
        <div class="info-section">
            <h4>üìã Informations</h4>
            <div class="info-grid">
                <div class="info-item"><div class="info-label">T√©l√©phone</div><div class="info-value"><a href="tel:${s.phone}">${s.phone}</a></div></div>
                <div class="info-item"><div class="info-label">Rythme</div><div class="info-value">${s.rythme}</div></div>
                <div class="info-item"><div class="info-label">Banque</div><div class="info-value">${s.bank||'Non renseign√©e'}</div></div>
                <div class="info-item"><div class="info-label">Formation</div><div class="info-value">${s.formation}</div></div>
            </div>
        </div>
        <div class="info-section">
            <h4>üí≥ Situation financi√®re</h4>
            <div class="info-grid">
                <div class="info-item full">
                    <div class="payment-detail">
                        <div class="payment-progress"><div class="payment-bar ${s.status}" style="width:${pct}%"></div></div>
                        <div class="payment-stats">
                            <span class="paid">${s.paid}‚Ç¨ pay√©s (${pct}%)</span>
                            <span class="remaining">${remaining}‚Ç¨ restant</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="info-section">
            <h4>üìÖ √âch√©ances</h4>
            <div class="echeances-raw">${s.echeancesRaw||'Aucune √©ch√©ance d√©finie'}</div>
        </div>
        <div class="info-section notes-section">
            <h4>üìù Notes</h4>
            <textarea id="studentNotes" placeholder="Ajouter des notes...">${s.notes||''}</textarea>
        </div>
    `;
    
    document.getElementById("detailContent").innerHTML=html;
    document.getElementById("detailFooter").innerHTML=`
        <button class="btn btn-danger" onclick="deleteStudent()">üóëÔ∏è Supprimer</button>
        <button class="btn btn-secondary" onclick="closeDetailModal()">Fermer</button>
        <button class="btn btn-primary" onclick="editStudent()">‚úèÔ∏è Modifier</button>
    `;
    document.getElementById("detailModal").classList.add("active");
}

function closeDetailModal(){
    if(currentStudentId){
        const notesEl=document.getElementById("studentNotes");
        if(notesEl){
            const s=students.find(st=>st.id===currentStudentId);
            if(s)s.notes=notesEl.value;
        }
    }
    document.getElementById("detailModal").classList.remove("active");
    currentStudentId=null;
}

function editStudent(){
    const s=students.find(st=>st.id===currentStudentId);
    if(!s)return;
    const statusOptions='<option value="ok" '+(s.status==='ok'?'selected':'')+'>‚úÖ √Ä jour</option><option value="pending" '+(s.status==='pending'?'selected':'')+'>‚è≥ En attente</option><option value="late" '+(s.status==='late'?'selected':'')+'>‚ö†Ô∏è En retard</option>';
    const rythmeOptions=['IOA','Initiale','Alternance','SFP'].map(r=>'<option value="'+r+'" '+(s.rythme===r?'selected':'')+'>'+r+'</option>').join('');
    
    const html=`
        <div class="info-section">
            <h4>üìã Informations</h4>
            <div class="info-grid">
                <div class="info-item full"><div class="info-label">Nom complet</div><input type="text" id="editName" class="edit-input" value="${s.name}"></div>
                <div class="info-item"><div class="info-label">T√©l√©phone</div><input type="text" id="editPhone" class="edit-input" value="${s.phone}"></div>
                <div class="info-item"><div class="info-label">Formation</div><input type="text" id="editFormation" class="edit-input" value="${s.formation}"></div>
                <div class="info-item"><div class="info-label">Rythme</div><select id="editRythme" class="edit-input">${rythmeOptions}</select></div>
                <div class="info-item full"><div class="info-label">Banque</div><input type="text" id="editBank" class="edit-input" value="${s.bank||''}"></div>
            </div>
        </div>
        <div class="info-section">
            <h4>üí≥ Finances</h4>
            <div class="info-grid">
                <div class="info-item"><div class="info-label">Statut</div><select id="editStatus" class="edit-input">${statusOptions}</select></div>
                <div class="info-item"><div class="info-label">Montant pay√© (‚Ç¨)</div><input type="number" id="editPaid" class="edit-input" value="${s.paid}" min="0"></div>
                <div class="info-item full"><div class="info-label">Montant total (‚Ç¨)</div><input type="number" id="editTotal" class="edit-input" value="${s.total}" min="0"></div>
            </div>
        </div>
        <div class="info-section">
            <h4>üìÖ √âch√©ances (texte)</h4>
            <textarea id="editEcheances" class="edit-input" style="min-height:100px">${s.echeancesRaw||''}</textarea>
        </div>
        <div class="info-section notes-section">
            <h4>üìù Notes</h4>
            <textarea id="editNotes">${s.notes||''}</textarea>
        </div>
    `;
    document.getElementById("detailContent").innerHTML=html;
    document.getElementById("detailFooter").innerHTML=`
        <button class="btn btn-secondary" onclick="openDetailModal(${currentStudentId})">Annuler</button>
        <button class="btn btn-primary" onclick="saveEdit()">üíæ Enregistrer</button>
    `;
}

function saveEdit(){
    const s=students.find(st=>st.id===currentStudentId);
    if(!s)return;
    s.name=document.getElementById("editName").value.trim();
    s.phone=document.getElementById("editPhone").value.trim();
    s.formation=document.getElementById("editFormation").value.trim();
    s.rythme=document.getElementById("editRythme").value;
    s.bank=document.getElementById("editBank").value.trim();
    s.status=document.getElementById("editStatus").value;
    s.paid=parseInt(document.getElementById("editPaid").value)||0;
    s.total=parseInt(document.getElementById("editTotal").value)||0;
    s.echeancesRaw=document.getElementById("editEcheances").value;
    s.notes=document.getElementById("editNotes").value;
    sortStudentsAlphabetically();
    updateStats();
    updateFormationFilter();
    renderStudents();
    openDetailModal(currentStudentId);
}

function deleteStudent(){
    if(!currentStudentId)return;
    const s=students.find(st=>st.id===currentStudentId);
    if(confirm('Supprimer '+s.name+' ?')){
        students=students.filter(st=>st.id!==currentStudentId);
        closeDetailModal();
        updateStats();
        updateFormationFilter();
        renderStudents();
    }
}

function saveStudent(){
    const name=document.getElementById("studentName").value.trim();
    const phone=document.getElementById("studentPhone").value.trim();
    const formation=document.getElementById("studentFormation").value.trim();
    const rythme=document.getElementById("studentRythme").value;
    const bank=document.getElementById("studentBank").value.trim();
    const echeancesRaw=document.getElementById("paymentInput").value.trim();
    
    if(!name){alert("Veuillez remplir le nom.");return}
    
    const newStudent={
        id:Date.now(),
        name:name,
        formation:formation,
        rythme:rythme,
        phone:phone,
        bank:bank,
        echeancesRaw:echeancesRaw,
        status:"pending",
        paid:0,
        total:0,
        notes:""
    };
    
    students.push(newStudent);
    sortStudentsAlphabetically();
    updateStats();
    updateFormationFilter();
    renderStudents();
    closeModal();
    alert("‚úÖ "+name+" enregistr√©!");
}

sortStudentsAlphabetically();
updateStats();
updateFormationFilter();
renderStudents();
</script>
</body>
</html>
